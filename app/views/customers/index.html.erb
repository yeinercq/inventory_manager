<%= turbo_stream_from current_company, "customers" %>

<div class="container">
  <div class="header">
    <h1><%= t('customers.plural') %></h1>
    <div class="row">
      <div class="col-12 col-sm-6">
        <%= link_to t('customers.new_customer'), new_customer_path, data: { turbo_frame: dom_id(Customer.new) }, class: "btn btn-primary" %>
      </div>
      <!-- Search form to filter customers by id_number -->
      <div class="col-12 col-sm-6 container-fluid">
        <%= form_with( url: customers_path, method: :get, data: {turbo_frame: 'customers'}, class: 'd-flex' ) do |form| %>
          <%= form.text_field :query, label: "Search by Id Number", class: 'form-control me-2' %>
          <%= form.submit "Search", class: "btn btn-warning" %>
        <% end %>
      </div>
    </div>
  </div>

  <%= turbo_frame_tag Customer.new %>
  <%= turbo_frame_tag 'customers' do %>
    <%= render @customers %>
  <% end %>
</div>
